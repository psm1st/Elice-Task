# ğŸ“ Code Editor ì†Œê°œ
### í”„ë¡œì íŠ¸ ì†Œê°œ 
![image](https://github.com/user-attachments/assets/2f201fdd-2682-482e-9d45-2b5e496a4891)

#### ZipíŒŒì¼ì„ íŒŒì‹±í•´ codeë¥¼ edit í•˜ëŠ” ë¯¸ë‹ˆ í”„ë¡œì íŠ¸ 
<br />

**ğŸ”—ë°°í¬ ë§í¬**

[Elice Code Editor](https://elice-code-editor.vercel.app/)

<br /> 

**ğŸ–¥ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜**

![image](https://github.com/user-attachments/assets/47a0632f-e761-4ac0-901c-0323aeeefe17)

### í”„ë¡œì íŠ¸ ì†Œê°œ ë…¸ì…˜

[Elice ì»¤ë¦¬ì–´ ë¶€ìŠ¤íŠ¸ ìœ„í¬ ê³¼ì œ](https://stern015.notion.site/Elice-1ecfcc2d2db380bca5fed01e789bd806?pvs=73)

<br />

### í™”ë©´ êµ¬ì„±
|Elice Code Editor|
|:---:|
|<img width="1505" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2025-05-11 á„‹á…©á„’á…® 9 29 41" src="https://github.com/user-attachments/assets/e3f1fcf5-dad9-42fe-8887-87868a52c0f1" />
|
|- íŒŒì¼ ì—…ë¡œë“œ <br/> - íŒŒì¼ íŠ¸ë¦¬ë·° <br/> - íŒŒì¼ editor <br/> - íŒŒì¼ editor <br /> - íƒ­ ê¸°ëŠ¥ <br /> - íƒ­ ê¸°ëŠ¥ <br /> - ZIP íŒŒì¼ ë‹¤ìš´ë¡œë“œ|

<br />

### âš™ ê¸°ìˆ  ìŠ¤íƒ

<div>
ì½”ì–´ - react, typescript 

ìŠ¤íƒ€ì¼ë§ - styled-component

êµ¬í˜„ ë°©ì‹ -  React Hooks ê¸°ë°˜ Functional Component êµ¬ì¡°

ì„±ëŠ¥ ìµœì í™” - Lighthouse Panel, vite-plugin-inspect , Chrome DevTools / Performance íƒ­, React DevTools Profiler
</div>

<br />

### ğŸ–¥ï¸ ì„±ëŠ¥ ìµœì í™” ê³¼ì • 

### ì‚¬ìš© íˆ´ 

Chrome - performance íƒ­

### ì „ë°˜ì ì¸ ì„±ëŠ¥ ìƒíƒœ
<img width="421" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2025-05-11 á„‹á…©á„’á…® 7 22 38" src="https://github.com/user-attachments/assets/7bbfb7af-8de7-438c-aa75-35f798140799" />


INP : ì‚¬ìš©ì ì¸í„°ë™ì…˜ì— ëŒ€í•´ **ë¸Œë¼ìš°ì €ê°€ ì‹¤ì œë¡œ í™”ë©´ì„ ì—…ë°ì´íŠ¸í•˜ê¸°**ê¹Œì§€ ê±¸ë¦° ì‹œê°„ - 32ms 

### ì„±ëŠ¥ ê²°ê³¼

| í•­ëª© | ì‹œê°„  |
| --- | --- |
| Scripting | 1,187ms |
| Rendering | 174ms |
| Painting | 124ms |
| Loading | 15ms |
| Messaging | 4ms |

<img width="720" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2025-05-11 á„‹á…©á„’á…® 7 23 18" src="https://github.com/user-attachments/assets/08006316-55dc-4886-b625-7ad42f4a956c" />


â†’ prepareRenderì—ì„œ ë³‘ëª© ë°œìƒ ê°€ëŠ¥ì„± íŒŒì•… 

#### ë¦¬íŒ©í† ë§ ì „ 

<img width="735" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2025-05-11 á„‹á…©á„’á…® 7 23 48" src="https://github.com/user-attachments/assets/eaa95b56-c6b8-4fe0-a97d-776a820e7a82" />


#### ë¦¬íŒ©í† ë§ í›„ 

<img width="712" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2025-05-11 á„‹á…©á„’á…® 7 24 30" src="https://github.com/user-attachments/assets/a500c760-beb6-42c6-b01b-cb042afc54e9" />

<img width="343" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2025-05-11 á„‹á…©á„’á…® 7 24 57" src="https://github.com/user-attachments/assets/d70a2076-1f0c-4d3c-9e5d-45c68874b8f5" />


**ğŸ”Â ë¬¸ì œ ì›ì¸** 

- íŒŒì¼ íƒ­ í´ë¦­ë§ˆë‹¤ `monaco.editor.createModel`, `setModel`, `updateOptions` ë“± **ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰**
- ì´ ì‘ì—…ë“¤ì´ **ë©”ì¸ ì“°ë ˆë“œë¥¼ ê³¼ë„í•˜ê²Œ ì ìœ **
 : pointerdown â†’ commit â†’ layout â†’ paintê°€ ëª°ë ¤ **ë ‰ ìœ ë°œ**
- íŠ¹íˆ `editor.layout()`ë„ ë‚´ë¶€ì ìœ¼ë¡œ ë°œìƒí•˜ë©´ì„œ **ë Œë”ë§ ë³‘ëª©** ë°œìƒ

**ğŸ“šÂ ë¦¬íŒ©í† ë§ ë°©ë²•**

ë¹„ë™ê¸° ì‘ì—… ì§€ì—° ì²˜ë¦¬

```jsx
requestIdleCallback(() => {
            editorRef.current!.setModel(model!);
            editorRef.current!.updateOptions({ readOnly: currentTab.file.isEditable === false });
     });
```

JS ì‹¤í–‰ â†’ React Commit â†’ Layout â†’ Paintê¹Œì§€ **ë™ê¸° ë Œë”ë§ ê³¼ë‹¤** 
: í•œê°€í•  ë•Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ ì²˜ë¦¬
     â†’ ì‚¬ìš©ì ì•¡ì…˜ ì§í›„ì— ë ‰ ì—†ì´ ì¦‰ê° ë°˜ì‘í•˜ê³ , ëª¨ë¸ êµì²´ë‚˜ readOnly ì˜µì…˜ì€ **ë’¤ë¡œ ë¯¸ë£¸**

```jsx
if (!model) {
          currentTab.content.text().then(text => {
            requestIdleCallback(() => {
              model = monaco.editor.createModel(text, getLanguage(fileName), uri);
              editorRef.current!.setModel(model!);
              editorRef.current!.updateOptions({ readOnly: currentTab.file.isEditable === false });

              model!.onDidChangeContent(() => {
                setOpenTabs(prevTabs =>
                  prevTabs.map(tab =>
                    `${tab.file.path}/${tab.file.name}` === activeFile
                      ? { ...tab, modified: true }
                      : tab
                  )
                );
              });
            });
          });
        }
```

| í•­ëª© | ë¦¬íŒ©í† ë§ ì „  | ë¦¬íŒ©í† ë§ í›„  |
| --- | --- | --- |
| function call - self time  | 55.7ms  |**1.8ms** |
| INP  | 32ms | **30ms** |

## ğŸ¤” ê¸°ìˆ ì  ì´ìŠˆì™€ í•´ê²° ê³¼ì •
[ê´€ë ¨ ë…¸ì…˜ í˜ì´ì§€](https://stern015.notion.site/1ecfcc2d2db38032b139ea0dbb759c56)

<br />

## ğŸ’â€â™‚ï¸ í”„ë¡œì íŠ¸ ì§„í–‰ì
|Frontend|
|:---:|
| ![](https://github.com/psm1st.png?size=120) |
|[ë°•ìˆ˜ë¯¼](https://github.com/psm1st)|
